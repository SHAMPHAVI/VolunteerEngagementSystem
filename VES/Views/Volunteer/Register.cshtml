<!DOCTYPE html>
<link rel="stylesheet" href="~/styles/form-style.css">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
</head>
<body>
    <h1>Get Started Today: Explore Volunteer Opportunities by Filling Out the Registration Form</h1>
    @if (ViewData.ModelState.IsValid == false)
    {
        <div class="alert alert-danger">
            <ul>
                @foreach (var modelError in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                {
                    <li>@modelError.ErrorMessage</li>
                }
            </ul>
        </div>
    }
    <form action="Register" method="post">

        <label for="full_name">Full Name</label>
        <input type="text" id="full_name" name="full_name" required>

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>

        <label for="password">Password</label>
        <input type="password" id="password" name="password" required>

        <label for="skills">Skills</label>
        <input type="text" id="skills" name="skills">

        <label for="selectedInterests" class="reference-element">Interests</label>
        <input type="text" id="selectedInterests" readonly onclick="toggleDropdown()" >
        <div id="interestsDropdown" class="dropdown-content">
            <label>
                <input type="checkbox" class="interest" name="interests[]" value="Animal Welfare"> Animal Welfare
            </label>
            <label>
                <input type="checkbox" class="interest" name="interests[]" value="Environmental Conservation"> Environmental Conservation
            </label>
            <label>
                <input type="checkbox" class="interest" name="interests[]" value="Community Development"> Community Development
            </label>
        </div>

        <label for="availability">Availability</label>
        <select id="availability" name="availability">
            <option value="Daily in Hours">Daily in Hours</option>
            <option value="Long Holidays">Long Holidays</option>
            <option value="weekends">Weekends</option>
            <option value="occasional">Occasional</option>
            <option value="holidays">Holidays</option>
        </select>
        <input type="submit" value="Register">
    </form>
    <p>Already have an account? <a href="Login">Login</a></p>
    <script>
        function toggleDropdown() {
            var dropdown = document.getElementById('interestsDropdown');
            if (dropdown.style.display === 'block') {
                dropdown.style.display = 'none';
            } else {
                dropdown.style.display = 'block';
                var interestsLabel = document.querySelector('.reference-element');
                dropdown.style.top = interestsLabel.offsetTop + interestsLabel.offsetHeight + 'px';
            }
        }

        var interestCheckboxes = document.querySelectorAll('.interest');
        var selectedInterestsField = document.getElementById('selectedInterests');
        var interestsDropdown = document.getElementById('interestsDropdown');

        document.addEventListener('click', function (event) {
            if (event.target !== selectedInterestsField && event.target !== interestsDropdown) {
                interestsDropdown.style.display = 'none';
            }
        });

        interestCheckboxes.forEach(function (checkbox) {
            checkbox.addEventListener('change', function () {
                var selectedInterests = [];
                interestCheckboxes.forEach(function (checkbox) {
                    if (checkbox.checked) {
                        selectedInterests.push(checkbox.value);
                    }
                });
                selectedInterestsField.value = selectedInterests.join(', ');
            });
        });
    </script>


</body>
</html>
